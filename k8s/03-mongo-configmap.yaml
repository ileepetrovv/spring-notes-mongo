apiVersion: v1
kind: ConfigMap
metadata:
  name: mongodb-config
  namespace: notes-app
data:
  mongod.conf: |
    storage:
      dbPath: /data/db
      journal:
        enabled: true
    net:
      port: 27017
      bindIp: 0.0.0.0
  init.js: |
    db.createUser({
      user: 'notesuser',
      pwd: 'notespwd',
      roles: [{
        role: 'readWrite',
        db: 'notesdb'
      }]
    });
    db.notes.insertOne({
      text: "Welcome to Notes App on Kubernetes!",
      createdAt: new Date()
    });